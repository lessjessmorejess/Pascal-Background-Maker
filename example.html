<html>
<head>

  <title>Wrapping Text</title>
</head>
<body>
<h1 id="line1"></h1>
<h2 id="line2"></h2>
<h3 id="line3"></h3>
</body>
<script type="application/javascript">
var mystring ="  Hi! this is what happens when things are  Thissssssssssssssssisasecondreallylongmessageicantbeliveitssolong is a long text string to test to see ifs I know how to wrap lines manually. I'm gonna add more on here and see what happens"
var max = 50;
var linenumbers = 3 //This starts with 0
var e1 = document.getElementById("line1");
var e2 = document.getElementById("line2");
var e3 = document.getElementById("line3");
;

//Function to wrap text if it is longer than a pre-determined Line length
function wrapLines(string,maxLength,numberOfLines){
  var line = []
  if (string.length > maxLength){
    //console.log("wrapping");
    //Get an array of the string by word
    //Create a working string variable
    var tempString = string;
    //If tempString starts with a space, keeping removing spaces until it does not.
        while (tempString.substring(0,1) == " "){
          tempString = tempString.substring(1,tempString.length)
        }
    var strSpaceless = tempString.split(" ");
    //console.log(strSpaceless)


    //For each line until max lines are hit, do the following
    for (lineNum = 0; lineNum < numberOfLines; lineNum++){
      //console.log("currently on lineNum " + lineNum)
      //console.log(line[lineNum])
      //At the beginning of each line, set linebreak to false
      var linebreak = false;
      //set chars back to zero as the tempString is shortened on each line
      var chars = 0;

      //If tempString starts with a space, keeping removing spaces until it does not.
      while (tempString.substring(0,1) == " "){
        tempString = tempString.substring(1,tempString.length)
      }

      //If it's not the last line, try to break the line.
      if (lineNum !== (numberOfLines-1)){

        //Itterate through all the words until a word would meet the linebreak requirements
        for (word = 0; linebreak != true;){
          //This line of code is useless, but I don't know why

          //Get the length of the current word
          tempCharCount = strSpaceless[word].length;
            console.log(strSpaceless[word] +" is this many characters long: " + tempCharCount)
            console.log("tempCharCount is " + tempCharCount)
            console.log("chars is " + chars)

          //If this word does not break the line check if adding a space would break the line.
          if ((tempCharCount + chars) < maxLength){
            tempCharCount += 1;
            //If adding a space does not break the line, add the length word & the space to chars
            if ((tempCharCount + chars) <= maxLength){
              chars += tempCharCount
            }
            //If the space breaks the line, just add the word and break the line
            else{
              chars += tempCharCount
              linebreak = true;
            }
          }
          //If the word would break the line, break the line
          else{
            linebreak = true;
            //Add the current temptString to the current line based on the number of characters of words that fit.
            line.push(tempString.substring(0,chars));
            //If this line is empty
            if (line[lineNum] === ""){
              line[lineNum] = tempString.substring(0,strSpaceless[0].length + 1);
            }
            //update the temp string to omit this line
            tempString = tempString.replace(line[lineNum],"")
            //Update the word array to omit this line.
            strSpaceless = tempString.split(" ");
          }
          word++;
        }
      }
      //If it's the last line, just place the rest of the text.
      else{
        line.push(tempString);
      }
      console.log("finished with lineNum " + lineNum)
      console.log("'" + line[lineNum] + "'")
    }
    return line;
  }
}
var wrappedArray = wrapLines(mystring,max,linenumbers)
e1.textContent = wrappedArray[0]
e2.textContent = wrappedArray[1]
e3.textContent = wrappedArray[2]

</script>
</html>
